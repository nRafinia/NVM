@typeparam T
@inherits Dashboard.Components.Models.OrderedListItemBase<T>

<OrderedList Collapsed="Collapsed" Class="@Class">
    @foreach (var item in Parental ?? new List<T>(0))
    {
        <TreeItem @key="item" Context="childCollapsed" Item="item" Level="Level" HasChildren="TreeView?.HasChildren?.Invoke(item) ?? false">
            @{
                var subItems = GetChildren?.Invoke(item)?.ToList();
                if (subItems != null)
                {
                    if (!childCollapsed)
                    {
                        <TreeList Level="Level + 1" Collapsed="childCollapsed" Parental="subItems" GetChildren="GetChildren"/>
                    }
                }
            }
        </TreeItem>
    }
</OrderedList>

@code {

    [Parameter]
    public List<T>? Parental { get; set; }

    [Parameter]
    public Func<T, List<T>?>? GetChildren { get; set; }

}